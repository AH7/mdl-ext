<h5>Lightbox Component</h5>


<ul id="lightboard-for-lightbox" class="mdlext-lightboard mdlext-js-lightboard mdl-js-ripple-effect mdl-js-ripple-effect--ignore-events">
  <li class="mdlext-lightboard__slide">
    <a href="../../lightboard/snippets/_D802141.jpg" class="mdlext-lightboard__slide__frame">
      <figure>
        <img src="../../lightboard/snippets/_D802141.jpg" title="Northern goshawk with prey"/>
        <figcaption>_D802141.jpg</figcaption>
      </figure>
    </a>
  </li>
  <li class="mdlext-lightboard__slide">
    <a href="../../lightboard/snippets/_D802591.jpg" class="mdlext-lightboard__slide__frame">
      <figure>
        <img src="../../lightboard/snippets/_D802591.jpg" title="Whooper swans in flight"/>
        <figcaption>_D802591.jpg</figcaption>
      </figure>
    </a>
  </li>
  <li class="mdlext-lightboard__slide">
    <a href="../../lightboard/snippets/_D804370-3.jpg" class="mdlext-lightboard__slide__frame">
      <figure>
        <img src="../../lightboard/snippets/_D804370-3.jpg" title="European green woodpecker"/>
        <figcaption>_D804370-3.jpg</figcaption>
      </figure>
    </a>
  </li>
  <li class="mdlext-lightboard__slide">
    <a href="../../lightboard/snippets/_D808689.jpg" class="mdlext-lightboard__slide__frame">
      <figure>
        <img src="../../lightboard/snippets/_D808689.jpg" title="The bridge"/>
        <figcaption>_D808689.jpg</figcaption>
      </figure>
    </a>
  </li>
  <li class="mdlext-lightboard__slide">
    <a href="../../accordion/snippets/_D802181.jpg" class="mdlext-lightboard__slide__frame">
      <figure>
        <img src="../../lightboard/snippets/_D802181.jpg" title="Landscape in blue pastel"/>
        <figcaption>_D802181.jpg</figcaption>
      </figure>
    </a>
  </li>
  <li class="mdlext-lightboard__slide">
    <a href="../../lightboard/snippets/_D800912.jpg" class="mdlext-lightboard__slide__frame">
      <figure>
        <img src="../../lightboard/snippets/_D800912.jpg" title="Hiking the mountains of Dovre"/>
        <figcaption>_D800912.jpg</figcaption>
      </figure>
    </a>
  </li>
  <li class="mdlext-lightboard__slide">
    <a href="../../accordion/snippets/_D809453-_D809457-3.jpg" class="mdlext-lightboard__slide__frame">
      <figure>
        <img src="../../lightboard/snippets/_D809453-_D809457-4.jpg" title="Train to nowhwere. Ny Aalesund, Spitsbergen." />
        <figcaption>_D809453-_D809457-4.jpg</figcaption>
      </figure>
    </a>
  </li>
  <li class="mdlext-lightboard__slide">
    <a href="../../lightboard/snippets/_DSC8214.jpg" class="mdlext-lightboard__slide__frame">
      <figure>
        <img src="../../lightboard/snippets/_DSC8214.jpg" title="Still got the blues"/>
        <figcaption>_DSC8214.jpg</figcaption>
      </figure>
    </a>
  </li>
  <li class="mdlext-lightboard__slide">
    <a href="../../lightboard/snippets/_D800017.jpg" class="mdlext-lightboard__slide__frame">
      <figure>
        <img src="../../lightboard/snippets/_D800017.jpg" />
        <figcaption>_D800017.jpg</figcaption>
      </figure>
    </a>
  </li>
  <li class="mdlext-lightboard__slide">
    <a href="../../lightboard/snippets/_D800023.jpg" class="mdlext-lightboard__slide__frame">
      <figure>
        <img src="../../lightboard/snippets/_D800023.jpg" />
        <figcaption>_D800023.jpg</figcaption>
      </figure>
    </a>
  </li>
  <li class="mdlext-lightboard__slide">
    <a href="../../lightboard/snippets/_D800851.jpg" class="mdlext-lightboard__slide__frame">
      <figure>
        <img src="../../lightboard/snippets/_D800851.jpg" />
        <figcaption>_D800851.jpg</figcaption>
      </figure>
    </a>
  </li>
  <li class="mdlext-lightboard__slide">
    <a href="../../lightboard/snippets/_D800166.jpg" class="mdlext-lightboard__slide__frame">
      <figure>
        <img src="../../lightboard/snippets/_D800166.jpg" />
      </figure>
    </a>
  </li>
</ul>

<p class="mdl-typography--caption" style="margin-top: 64px;">
  All images appearing in this page are the exclusive property of Leif Olsen and are protected under the United States
  and International Copyright laws. The images may not be reproduced or manipulated without the written permission of
  Leif Olsen. Use of any image as the basis for another photographic concept or illustration (digital, artist rendering
  or alike) is a violation of the United States and International Copyright laws. All images are copyrighted &copy; Leif Olsen, 2016.
</p>


<dialog id="lightbox-dialog" class="mdlext-dialog">

  <div id="lightbox" class="mdlext-lightbox mdlext-js-lightbox mdlext-lightbox--sticky-footer mdl-card mdl-shadow--4dp">
    <div class="mdl-card__menu">
      <button action="close" class="mdl-button mdl-button--icon mdl-js-button" title="Close">
        <i class="material-icons">close</i>
      </button>
    </div>
    <figure class="mdl-card__title">
      <img src="" alt>
      <figcaption></figcaption>
    </figure>
    <footer class="mdl-card--border">
      <div class="mdl-card__supporting-text">
        Image title
      </div>
      <nav>
        <button action="first" class="mdl-button mdl-button--icon mdl-js-button" title="First">
          <i class="material-icons">first_page</i>
        </button>
        <button action="prev" class="mdl-button mdl-button--icon mdl-js-button" title="Previous">
          <i class="material-icons">chevron_left</i>
        </button>
        <button action="next" class="mdl-button mdl-button--icon mdl-js-button" title="Next">
          <i class="material-icons">chevron_right</i>
        </button>
        <button action="last" class="mdl-button mdl-button--icon mdl-js-button" title="Last">
          <i class="material-icons">last_page</i>
        </button>
        <!--
        <button action="play" class="mdl-button mdl-button--icon mdl-js-button mdl-js-ripple-effect" title="Play">
          <i class="material-icons">play_circle_outline</i>
        </button>
        <button id="slide-pause" class="mdl-button mdl-button--icon mdl-js-button mdl-js-ripple-effect" title="Pause">
          <i class="material-icons">pause_circle_outline</i>
        </button>
        <button action="info" class="mdl-button mdl-button--icon mdl-js-button mdl-js-ripple-effect" title="Details">
          <i class="material-icons">info_outline</i>
        </button>
        -->
      </nav>
    </footer>
  </div>
</dialog>


<script type="text/javascript" src="../../../demo/mdl-iframe-loader.js" charset="utf-8"></script>
<script>
  'use strict';
  if(window.self !== window.top) {
    mdlIframeLoader.load('../../../');
  }

  window.addEventListener('load', function() {
    var dialog = document.querySelector('#lightbox-dialog');
    if (!('showModal' in dialog)) {
      dialogPolyfill.registerDialog(dialog);
    }

    var currentSlide = null;
    var lightboard = document.querySelector('#lightboard-for-lightbox');
    var slides = lightboard.querySelectorAll('.mdlext-lightboard__slide');

    lightboard.addEventListener('select', function(e) {
      currentSlide = e.detail.source;
      showImage(e.detail.source);
    });

    var lightbox = dialog.querySelector('.mdlext-lightbox');

    lightbox.addEventListener('action', function(e) {
      if(e.detail.action === 'close') {
        dialog.close();
      }
      else {
        if(e.detail.action === 'first') {
          currentSlide = slides[0];
        }
        else if(e.detail.action === 'prev' || e.detail.action === 'next') {

          for (var i = 0, n = slides.length; i < n; i++) {
            if(currentSlide ===  slides[i]) {
              if(e.detail.action === 'prev') {
                currentSlide = i > 0 ? slides[i-1] : slides[n-1];
              }
              else if(e.detail.action === 'next') {
                currentSlide = i < n-1 ? slides[i+1] : slides[0];
              }
              break;
            }
          }
        }
        else if(e.detail.action === 'last') {
          currentSlide = slides[slides.length-1];
        }
        showImage(currentSlide);
      }
    });


    function showImage(slide) {
      var slideAnchor = slide.querySelector('a');
      var slideImg = slide.querySelector('img');
      var img = dialog.querySelector('img');
      var supportingText = dialog.querySelector('.mdl-card__supporting-text');
      var imageDetails = dialog.querySelector('figcaption');

      img.setAttribute("src", slideAnchor.getAttribute('href'));
      img.setAttribute("alt", slideImg.getAttribute('title'));
      img.setAttribute("title", slideImg.getAttribute('title'));
      supportingText.innerHTML = slideImg.getAttribute('title');
      imageDetails.innerHTML = slideImg.getAttribute('title');

      if(!dialog.open) {
        dialog.showModal();
      }
    }

  });
</script>
